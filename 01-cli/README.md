[![Build Status](https://travis-ci.org/egor-bogomolov/software-design.svg?branch=01-cli)](https://travis-ci.org/egor-bogomolov/software-design)

# Описание

Интерпретатор командной строки, поддерживающий похожий на bash язык. 

## Язык

Функции, поддерживаемые самим интерпретатором:

* **cat [FILE]** &ndash; вывести содержимое файла

* **echo** &ndash; вывести на экран свои аргументы по одному на строке

* **wc [FILE]** &ndash; подсчитать число строк, слов и байт в файле

* **pwd** &ndash; распечатать текущую директорию

* **exit** &ndash; прекращение работы интерпретатора

* **varname=value** &ndash; сохранение значения переменной, в дальнейшем используется подставновкой **$varname**

* **command1 | command2** &ndash; пайплайны, перенаправляющие вывод одной команды на вход другой

* Одинарные и двойные кавычки

Остальные вызовы переадресовываются bash'у.

## Сущности

**CommandLineInterpretator** &ndash; обертка над **CommandLineExecutor**, реализующая взаимодействие с консольным интерфейсом.

**CommandLineExecutor** &ndash; интерфейс, принимает команды в виде строк, исполняет их и возвращает **ExecutionResult**

**ExecutionResult** &ndash; хранит результат исполнения, а именно вывод в выходной поток и поток ошибок и то, пытается ли исполнение завершиться

**BashLikeExecutor** &ndash; реализация **CommandLineExecutor** для описанного выше языка. Разбирает полученную строчку с помощью 
**BashLikeParser**, получает список корней деревьев, соответствующий командам, соединенным через пайп и исполняет их в
соответствующем порядке

**Environment** &ndash; интерфейс хранилища переменных со значениями

**LocalMapEnvironment** &ndash; реализация **Environment** на основе Map

**CommandLineParser** &ndash; интерфейс парсера, разбирает строчки в список корней синтаксических деревьев, соответствующих
частям вызова, соединенным через пайп

**BashLikeParser** &ndash; реализация **CommandLineParser**,


## Архитектура

<p align="center">
<img src="images/architecture.jpg" />
</p> 
